<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vuepress | FANTASY</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="./assets/img/favicon.ico">
    <script>
            var _hmt = _hmt || [];
            (function() {
              var hm = document.createElement("script");
              hm.src = "https://hm.baidu.com/hm.js?174d4cf987673de6ed73b9e4d485af1d";
              var s = document.getElementsByTagName("script")[0]; 
              s.parentNode.insertBefore(hm, s);
            })();
          </script>
    <meta name="description" content="">
    
    <link rel="preload" href="/blog/assets/css/0.styles.db5b43a6.css" as="style"><link rel="preload" href="/blog/assets/js/app.8aa81034.js" as="script"><link rel="preload" href="/blog/assets/js/6.feb54901.js" as="script"><link rel="preload" href="/blog/assets/js/2.2252bced.js" as="script"><link rel="preload" href="/blog/assets/js/13.7bb051dc.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.4266bdd5.js"><link rel="prefetch" href="/blog/assets/js/11.1d8aa47d.js"><link rel="prefetch" href="/blog/assets/js/12.d60f1fc9.js"><link rel="prefetch" href="/blog/assets/js/3.8960bb19.js"><link rel="prefetch" href="/blog/assets/js/4.71c44ba9.js"><link rel="prefetch" href="/blog/assets/js/5.8acab85b.js"><link rel="prefetch" href="/blog/assets/js/7.71bfdd78.js"><link rel="prefetch" href="/blog/assets/js/8.8894a6bc.js"><link rel="prefetch" href="/blog/assets/js/9.64595eaf.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.db5b43a6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="./assets/img/logo.png" alt="FANTASY" class="logo"> <span class="site-name can-hide">FANTASY</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front-end/javascript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-end/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-end/angular.html" class="nav-link">
  Angular
</a></li></ul></div></div><div class="nav-item"><a href="/blog/vuepress.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  vuepress
</a></div><div class="nav-item"><a href="/blog/java.html" class="nav-link">
  JAVA
</a></div><div class="nav-item"><a href="/blog/sql.html" class="nav-link">
  数据库
</a></div><div class="nav-item"><a href="/blog/computer-basic.html" class="nav-link">
  计算机基础
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front-end/javascript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-end/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-end/angular.html" class="nav-link">
  Angular
</a></li></ul></div></div><div class="nav-item"><a href="/blog/vuepress.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  vuepress
</a></div><div class="nav-item"><a href="/blog/java.html" class="nav-link">
  JAVA
</a></div><div class="nav-item"><a href="/blog/sql.html" class="nav-link">
  数据库
</a></div><div class="nav-item"><a href="/blog/computer-basic.html" class="nav-link">
  计算机基础
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vuepress</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vuepress.html#_1-seo" class="sidebar-link">1. SEO</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/vuepress.html#_2-自动化部署" class="sidebar-link">2. 自动化部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/vuepress.html#_1-将blog自动化部署到github的步骤" class="sidebar-link">1.  将blog自动化部署到github的步骤</a></li></ul></li><li><a href="/blog/vuepress.html#_3-vssue评论" class="sidebar-link">3. vssue评论</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/vuepress.html#_4-google-analytics" class="sidebar-link">4.google analytics</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vuepress"><a href="#vuepress" class="header-anchor">#</a> vuepress</h1> <ul><li>该网站基于使用vuepress搭建，这篇blog将对搭建vuepress项目中比较繁琐的功能做一个简单的记录，以便日后参考。</li></ul> <h2 id="_1-seo"><a href="#_1-seo" class="header-anchor">#</a> 1. SEO</h2> <ul><li>目前未对seo功能进行优化</li></ul> <h2 id="_2-自动化部署"><a href="#_2-自动化部署" class="header-anchor">#</a> 2. 自动化部署</h2> <h3 id="_1-将blog自动化部署到github的步骤"><a href="#_1-将blog自动化部署到github的步骤" class="header-anchor">#</a> 1.  将blog自动化部署到github的步骤</h3> <ol><li>在项目根目录下创建一个deploy.sh文件，文件内容<div class="language- extra-class"><pre class="language-text"><code>#!/usr/bin/env sh

# 确保脚本抛出遇到的错误
set -e

# 生成静态文件
npm run docs:build

# 进入生成的文件夹
cd docs/.vuepress/dist

# 如果是发布到自定义域名
# echo 'www.example.com' &gt; CNAME

git init
git add -A
git commit -m 'deploy'

# 如果发布到 https://&lt;USERNAME&gt;.github.io
# git push -f git@github.com:&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git master

# 如果发布到 https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;
git push -f git@github.com:zhangliangfantasy/blog.git master:gh-pages

cd -
</code></pre></div></li> <li>在github上配置ssh来管理github账户</li> <li>在package.json文件中添加启动命令
<img src="assets/img/package.png" alt="avatar"></li> <li>终端执行<code>npm run deploy</code>即可自动打包并部署到github上去</li></ol> <h2 id="_3-vssue评论"><a href="#_3-vssue评论" class="header-anchor">#</a> 3. vssue评论</h2> <ul><li>该项目使用vssue做评论的功能，下面是使用vssue的注意事项</li></ul> <ol><li>首先需要在github上创建OAuth Apps
<ol><li>点击头像下拉框 -&gt; settings -&gt; Developer settings -&gt; OAuth APPs</li> <li><img src="assets/img/vssue.png" alt="avatar"></li> <li>生成Client ID 和 Client secrets</li> <li>配置源地址</li> <li>在config中配置好插件</li> <li><img src="assets/img/vssueconfig.png" alt="avatar"></li></ol></li> <li>注意： 在安装vssue插件时选择v4版本，否则会报跨域的错。。。。</li> <li>将vssue配置成全局及防止评论共享的方案
<ol><li><img src="assets/img/vssueglobal.png" alt="avatar"></li> <li>Layout.vue中代码，如图
<img src="assets/img/vssuelayout1.png" alt="avatar"> <img src="assets/img/vssuelayout2.png" alt="avatar"> <img src="assets/img/vssuelayout3.png" alt="avatar"></li></ol></li></ol> <h2 id="_4-google-analytics"><a href="#_4-google-analytics" class="header-anchor">#</a> 4.google analytics</h2> <ol><li>注册google analytics账号 -&gt; 填写资源链接</li> <li>安装插件 <code>cnpm install -D @vuepress/plugin-google-analytics</code></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/27/2020, 10:56:29 PM</span></div></footer> <!---->  <!----></main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.8aa81034.js" defer></script><script src="/blog/assets/js/6.feb54901.js" defer></script><script src="/blog/assets/js/2.2252bced.js" defer></script><script src="/blog/assets/js/13.7bb051dc.js" defer></script>
  </body>
</html>
